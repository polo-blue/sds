---
// Universal HandDrive component - API-first, no i18n dependencies
// Designed for multiple projects with consistent API data

interface Props {
  class?: string;
  /** Hand drive type: 'lhd' | 'rhd' */
  handDrive?: 'lhd' | 'rhd' | null;
  /** Display text from API */
  text?: string;
  /** Larger text variant */
  biggerText?: boolean;
  /** Optional: Override title attribute */
  title?: string;
}

const { class: className, handDrive, text, biggerText = false, title } = Astro.props;

import { Image } from 'astro:assets';
import handDriveImage from '../assets/hand-drive.svg';

// Don't render if no valid hand drive specified
if (!handDrive || (handDrive !== 'lhd' && handDrive !== 'rhd')) {
  return null;
}

// Use provided title or generate from type
const titleText = title || handDrive.toUpperCase();
---

<div title={titleText} class="flex items-center" class:list={className}>
  <Image
    src={handDriveImage}
    alt={`${handDrive.toUpperCase()} hand drive`}
    width={48}
    height={34}
    class={handDrive}
  />
  {
    text && (
      <div class={`ml-2 ${biggerText ? 'text-sm md:text-base' : 'text-xxs md:text-xs'}`}>
        {text}
      </div>
    )
  }
</div>

<style>
  .rhd {
    transform: scaleX(-1);
  }
</style>
